<!doctype html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: page_head}">
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary" th:replace="layout :: page_navbar"></nav>
<div class="container" style="overflow-y: scroll; max-height: 100%; margin-bottom: 80px; ">
    <h1 class="text-center">Lista de clientes</h1>
    <a class="btn btn-primary mb-3" href="/clients/create">Adicionar Cliente</a>

    <table class="table" >
        <thead>
        <th>Id</th>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>
        <th>Endereço</th>
        <th>Criado em</th>
        <th>Ação</th> <!--dois botões editar e deletar-->
        </thead>
        <tbody class="table-group-divider">
            <tr th:each="client : ${clients}">
                <td th:text="${client.getId()}"></td>
                <td th:text="${client.getFirstName()} + ' ' + ${client.getLastName()}"></td>
                <td th:text="${client.getEmail()}"></td>
                <td th:text="${client.getPhone()}"></td>
                <td th:text="${client.getAddress()}"></td>
                <td th:text="${client.getCreatedTime.getDayOfMonth()} + '/'
                 + ${client.getCreatedTime.getHour()} + ''+
                ${client.getCreatedTime.getMinute()} "></td>

                <td style="white-space: nowrap">
                    <a class="btn btn-primary btn-sm"
                       th:href="@{/clients/edit(id=${client.getId()})}">Editar</a>
                    <a class="btn btn-primary btn-danger btn-sm"
                       th:href="@{/clients/delete(id=${client.getId()})} "
                    onclick="return confirm('Tem certeza?')"
                    >Deletar</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<footer class="border-top bg-light text-muted text-center" th:replace="layout :: page_footer">

</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
</html>